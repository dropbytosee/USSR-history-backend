{% extends 'base.html' %}

{% block title %}Список заказов{% endblock %}

{% block content %}
    <ul>
        {% for order in data.orders %}
           {% include 'order_element.html' with element=order %}
        {% empty %}
            <li>Список пуст</li>
        {% endfor %}
    </ul>

    <form action="sendText" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <input id="searchInput" name="text" type="text" oninput="filterOrders()">
        <input type="submit" value="Submit">
    </form>

    <script>
        function filterOrders() {
            const input = document.getElementById('searchInput');
            const searchText = input.value.toLowerCase();
            const links = document.querySelectorAll('#orderList li a');

            links.forEach(function(link) {
                const text = link.textContent.toLowerCase();
                if (text.includes(searchText)) {
                    link.parentElement.style.display = 'block';
                } else {
                    link.parentElement.style.display = 'none';
                }
            });
        }
    </script>
{% endblock %}
